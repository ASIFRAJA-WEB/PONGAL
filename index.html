<!DOCTYPE html>
<html lang="ta">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Pongal</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Tamil:wght@600&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Noto Serif Tamil', serif;
  background: linear-gradient(to top, #1e3c72, #2a5298);
  color: white;
  text-align: center;
  overflow: hidden;
}

.container {
  min-height: 100vh;
  padding: 20px 15px 60px;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

h1 {
  font-size: 2rem;
  margin-top: 20px;
}

input {
  width: 85%;
  max-width: 320px;
  padding: 12px;
  border-radius: 25px;
  border: none;
  outline: none;
  text-align: center;
  font-size: 1rem;
  margin-top: 15px;
}

/* Wish fade-in */
#wish {
  margin-top: 20px;
  font-size: 1.1rem;
  line-height: 1.6;
  padding: 0 10px;
  opacity: 0;
  transition: opacity 1s ease;
}

#wish.show {
  opacity: 1;
}

.share {
  margin-top: 15px;
  padding: 10px 22px;
  border-radius: 25px;
  border: none;
  font-weight: bold;
  font-size: 0.9rem;
  background: #25d366;
  color: white;
}

/* Side pot */
.pot {
  position: absolute;
  right: 10px;
  bottom: 80px;
  width: 90px;
  height: 60px;
  background: #7b3f1d;
  border-radius: 0 0 40px 40px;
  opacity: 0.8;
}

.pot::before {
  content: "";
  position: absolute;
  top: -15px;
  left: 0;
  width: 90px;
  height: 18px;
  background: #9c4f26;
  border-radius: 50%;
}

/* Confetti */
.confetti {
  position: fixed;
  width: 8px;
  height: 14px;
  top: -20px;
  animation: fall linear infinite;
}

@keyframes fall {
  0% { transform: translateY(0) rotate(0); }
  100% { transform: translateY(110vh) rotate(360deg); }
}

.footer {
  position: fixed;
  bottom: 10px;
  width: 100%;
  font-size: 0.85rem;
  opacity: 0.85;
}
</style>
</head>

<body>

<div class="container">
  <h1>ğŸŒ¾ à®‡à®©à®¿à®¯ à®ªà¯Šà®™à¯à®•à®²à¯ à®¨à®²à¯à®µà®¾à®´à¯à®¤à¯à®¤à¯à®•à®³à¯ ğŸŒ¾</h1>

  <input type="text" id="name" placeholder="à®‰à®™à¯à®•à®³à¯ à®ªà¯†à®¯à®°à¯ à®à®´à¯à®¤à¯à®™à¯à®•à®³à¯" oninput="updateWish()">

  <div id="wish"></div>

  <button class="share" onclick="shareWhatsApp()">WhatsApp Share</button>

  <div class="pot"></div>
</div>

<div class="footer">
  Created by <b>Asif Raja</b>
</div>

<script>
const wishBox = document.getElementById("wish");

// Get name from link but DO NOT show immediately
const params = new URLSearchParams(window.location.search);
const urlName = params.get("name");
if (urlName) {
  document.getElementById("name").value = decodeURIComponent(urlName);
  setTimeout(() => {
    showWish();
  }, 800); // fade-in delay
}

function updateWish() {
  showWish();
}

function showWish() {
  const name = document.getElementById("name").value.trim();
  if (!name) {
    wishBox.classList.remove("show");
    wishBox.innerHTML = "";
    return;
  }

  wishBox.innerHTML = `ğŸŒ¾ <b>${name}</b>, à®‰à®™à¯à®•à®³à¯à®•à¯à®•à¯à®®à¯ à®‰à®™à¯à®•à®³à¯ à®•à¯à®Ÿà¯à®®à¯à®ªà®¤à¯à®¤à®¿à®©à®°à¯à®•à¯à®•à¯à®®à¯<br>
  à®‡à®©à®¿à®¯ à®ªà¯Šà®™à¯à®•à®²à¯ à®¨à®²à¯à®µà®¾à®´à¯à®¤à¯à®¤à¯à®•à®³à¯! ğŸ‰<br>
  à®šà®¨à¯à®¤à¯‹à®·à®®à¯, à®†à®°à¯‹à®•à¯à®•à®¿à®¯à®®à¯, à®µà¯†à®±à¯à®±à®¿ à®à®ªà¯à®ªà¯‹à®¤à¯à®®à¯ à®‰à®™à¯à®•à®³à¯à®Ÿà®©à¯ à®‡à®°à¯à®•à¯à®•à®Ÿà¯à®Ÿà¯à®®à¯ ğŸŒ`;

  wishBox.classList.add("show");
}

// WhatsApp share with name in link
function shareWhatsApp() {
  const name = document.getElementById("name").value.trim();
  if (!name) {
    alert("à®®à¯à®¤à®²à®¿à®²à¯ à®ªà¯†à®¯à®°à¯ à®‰à®³à¯à®³à®¿à®Ÿà¯à®™à¯à®•à®³à¯!");
    return;
  }

  const link = window.location.origin + window.location.pathname + "?name=" + encodeURIComponent(name);
  const text = `ğŸŒ¾ ${name} à®•à¯à®•à¯ à®‡à®©à®¿à®¯ à®ªà¯Šà®™à¯à®•à®²à¯ à®¨à®²à¯à®µà®¾à®´à¯à®¤à¯à®¤à¯à®•à®³à¯! ğŸ‰\n\nOpen here:\n${link}`;
  const url = "https://wa.me/?text=" + encodeURIComponent(text);
  window.open(url, "_blank");
}

// Confetti
function createConfetti() {
  const confetti = document.createElement("div");
  confetti.classList.add("confetti");

  const colors = ["#ff5252", "#ffeb3b", "#69f0ae", "#40c4ff", "#e040fb"];
  confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
  confetti.style.left = Math.random() * 100 + "vw";
  confetti.style.animationDuration = (2 + Math.random() * 3) + "s";

  document.body.appendChild(confetti);

  setTimeout(() => confetti.remove(), 5000);
}

setInterval(createConfetti, 150);
</script>

</body>
</html>


